<!DOCTYPE html>
<html lang="en">
 <head>
  <link rel="stylesheet" href="/style.css" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="/style.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üèïÔ∏è</text></svg>">
  <title></title>
 </head>
 <body>
  <div id="page-wrapper">
   <div id="header" role="banner">
    <header class="banner">
     <div id="banner-text">
      <span class="banner-title"><a href="/">beauhilton</a></span>
     </div>
    </header>
    <nav>
     <a href="/about">about</a>
<a href="/now">now</a>
<a class="nav-active" href="/posts">posts</a>
<a href="https://talks.beauhilton.com">talks</a>
<a href="/contact">contact</a>
<a href="/atom.xml">rss</a>
    </nav>
   </div>
   <main>
    <h1>
     R Markdown is my spirit animal
    </h1>
    <p>
     <time id="post-date">2019-10-20</time>
    </p>
    <h2>
     update 2022-12-02
    </h2>
    <p>
     The R Markdown folks have a new project called <a href="https://quarto.org">Quarto</a>, looks like it does all the things
RMD does plus more.
    </p>
    <h2>
     original post
    </h2>
    <p>
     In a [previous post]({% post_url 2019-06-10-python-write-my-paper %})
I talked about how easy it is, if you‚Äôre already doing your own stats
anyway in some research project, to have a Python script output
paragraphs with all the stats written out and updated for you to add
into your paper.
    </p>
    <p>
     The main problem with the approach I outlined was how to get those
nicely updated paragraphs into the document you are sharing with
colleagues.
    </p>
    <p>
     Medicine, in particular, seems wed to Microsoft Word documents for
manuscripts. Word does not have a great way to include text from
arbitrary files, forcing the physician-scientist to manually copy and
paste those beautifully automated paragraphs. As I struggled with this,
I thought (here cue Raymond Hettinger), ‚ÄúThere must be a better
way.‚Äù
    </p>
    <p id="post-excerpt">
     Turns out that a better way does exist, and it is R Markdown.
    </p>
    <p>
     Though I was at first resistant to learning about R Markdown, mostly
because I am proficient in Python and thought the opportunity cost for
learning R at this point would be too high, as soon as I saw it demoed I
changed my tune. Here‚Äôs why.
    </p>
    <h2>
     Writing text
    </h2>
    <ul>
     <li>
      R Markdown is mostly markdown.
      <ul>
       <li>
        Markdown is by far the easiest way to write plaintext documents,
especially if you want to apply formatting later on without worrying
about the specifics while you‚Äôre writing (e.g. <code>#</code> just
specifies a header - you can decide how you want the headers to look
later, and that styling will automatically be applied).
       </li>
       <li>
        Plaintext is beautiful. It costs nearly nothing in terms of raw
storage, and is easy to keep within a version control system. Markdown
plaintext is human-readable whether or not the styling has been applied.
Your ideas will never be hidden in a proprietary format that requires
special software to read.
       </li>
       <li>
        I had been transitioning to writing in Markdown anyway, so +1 for R
Markdown.
       </li>
      </ul>
     </li>
     <li>
      R Markdown is also a little LaTeX.
      <ul>
       <li>
        LaTeX is <a href="https://tex.stackexchange.com/questions/1319/showcase-of-beautiful-typography-done-in-tex-friends">gorgeous</a>
and wonderful, the most flexible and expressive of all the typesetting
tools (though not as fast as our old friend Groff‚Ä¶). It also has a
steeper learning curve than Markdown, and is not so pretty on the screen
in its raw form. R Markdown lets you do the bulk of your work in simple
Markdown, then seamlessly invoke LaTeX when you need something a little
fancier.
       </li>
      </ul>
     </li>
     <li>
      R Markdown is also a little HTML.
      <ul>
       <li>
        HTML is also expressive, and can be gorgeous and wonderful. It is a
pain to write. As with LaTeX, you can simply drop in some HTML where you
need it, and R Markdown will deal with it as necessary.
       </li>
      </ul>
     </li>
     <li>
      R Markdown is academic-friendly.
      <ul>
       <li>
        Citations and formatting guidelines for different journals are the
tedious banes of any academic‚Äôs existence. R Markdown has robust support
for adding in citations that will be properly formatted in any desired
style, just by changing a tag at the top of the document. Got a
rejection from Journal 1 and want to submit to Journal 2, which has a
completely different set of citation styles and manuscript formatting?
NBD.
       </li>
      </ul>
     </li>
    </ul>
    <h2>
     Writing code
    </h2>
    <p>
     R Markdown, as the name implies, can also run R code. Any analysis
you can dream of in R can be included in your document, and you can
choose whether you want to show the code and its output, the output
alone, or the code alone. People will think you went through all the
work of making that figure, editing it in PowerPoint, screenshotting it
to a .png, then dropping that .png file into your manuscript, but the
truth is‚Ä¶ you scripted all of that, so the manuscript itself made the
.png and included it where it needed to go.
    </p>
    <p>
     R Markdown is by no means restricted to R code. This is the killer
app that won me over. Simply by specifying that a given code block is
Python, and installing a little tool (<code>reticulate</code>) that
allows R to interface with Python, I can run arbitrary Python code
within the document and capture the output however I want. That results
paragraph? Sure. Fancy images of predictions from my machine learning
model? But of course.
    </p>
    <p>
     If you don‚Äôt want to use any R code ever, that‚Äôs fine. R Markdown
doesn‚Äôt mind. Use SAS, MATLAB (via Octave), heck, even bash scripts -
the range of language support is fantastic.
    </p>
    <h2>
     Working with friends
    </h2>
    <p>
     R Markdown can be compiled to pretty much any format you can dream
of. My current setup simultaneously puts out an HTML document (that can
be opened in any web browser), a PDF (because I love PDFs), and (AND!) a
.docx Word file, all beautifully formatted, on demand, whenever I hit my
keyboard shortcut. I can preview the PDF or HTML as I write, have a
.docx to send to my PI, and life is good.
    </p>
    <p>
     Also, because you can write in any programming language, you can
easily collaborate between researchers that are comfortable in different
paradigms. You can pass data back and forth between your chosen
languages (for me, R and Python), either directly or by saving
intermediate data to a format that both languages can read.
    </p>
    <h2>
     Automating tasks
    </h2>
    <p>
     Many analyses and their manuscripts, especially if they use similar
techniques (e.g. survival modeling), are rather formulaic. Many
researchers have scripts they keep around and tweak for new analyses
revolving around the same basic subject matter or approach. With R
Markdown, your entire manuscript becomes a runnable program, further
automating the boring parts of getting research out into the open.
    </p>
    <p>
     One of the <a href="https://www.youtube.com/watch?v=MIlzQpXlJNk">first
introductions</a> I had to R Markdown shared the remarkable idea of
setting the file to run on a regular basis, generating a report based on
any updated data, and then sending this report to all the interested
parties automatically. While much academic work could not be so fully
automated, parts of it certainly can be.
    </p>
    <p>
     Perhaps your team is building a database for outcomes in a given
disease, and has specified the analysis in great detail beforehand. One
of my mentors gives the advice that in any project proposal you should
go as far as to mock up the results section, including all figures, so
you make sure you are collecting the right data. If this was done in an
R Markdown document rather than a simple Word document, you could have
large parts of the template manuscript become the real manuscript as the
database fleshes out over time. Then when it‚Äôs done, look over the data,
make additions and subtractions as needed, write the discussion
sections, and send it in.
    </p>
   </main>
   <div id="footnotes"></div>
   <footer></footer>
  </div>
 </body>
</html>
